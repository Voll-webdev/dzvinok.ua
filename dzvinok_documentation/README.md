# Архітектура проекту dzvinok.ua

## Огляд проекту

dzvinok.ua - інтернет-магазин з повноцінною системою управління товарами, замовленнями та інтеграцією з 1С.

### Структура проекту

```
dzvinok.ua/
├── dzvinok_documentation/    # Документація, архітектура, контракти API
├── dzvinok_admin/           # Адміністративна панель (Laravel Filament)
└── dzvinok_main/            # Основний сайт (Laravel + Blade)
    ├── app/
    │   └── Models/          # Всі моделі Eloquent (централізовано)
    ├── database/
    │   └── migrations/      # Всі міграції БД
    └── src/                 # Модулі основного сайту
        ├── Catalog/         # Модуль каталогу товарів
        ├── Cart/            # Модуль кошика
        ├── Order/           # Модуль замовлень
        ├── Auth/            # Модуль авторизації
        ├── Profile/         # Модуль особистого кабінету
        ├── Search/          # Модуль пошуку
        ├── Api/             # Модуль API для 1С
        └── Common/          # Загальні компоненти
```

### Технології

- **PHP**: 8.2+
- **Laravel**: 11.x
- **MySQL**: 8.0+
- **Laravel Filament**: 3.x (адмін панель)
- **Frontend**: Blade Templates, Livewire 3.x, Alpine.js, Tailwind CSS
- **Інтеграція**: REST API для 1С
- **Сховище**: Зовнішнє file storage (AWS S3, Hetzner Storage Box)
- **Кешування**: Redis (для кешування зображень та даних)

### Принципи архітектури

- Єдина база даних для dzvinok_admin та dzvinok_main
- Всі міграції створюються в dzvinok_main
- API для 1С розташоване в dzvinok_main
- Двостороння синхронізація даних з 1С
- Адмін панель використовує ресурси Filament для управління даними
- Модульна структура бекенду основного сайту:
  - Кожен функціональний розділ виділяється в окремий модуль в `dzvinok_main/src/`
  - Модулі містять контролери, сервіси, запити, шаблони та інші компоненти
  - Всі моделі Eloquent зберігаються централізовано в `app/Models/`
  - Забезпечує чітке розділення відповідальності та полегшує підтримку коду
- Зберігання зображень:
  - Товари та їх зображення приходять з 1С
  - 1С завантажує зображення на зовнішнє сховище (AWS S3, Hetzner Storage Box)
  - Через API отримуємо URL зображень з 1С
  - URL зображень зберігаються в БД та кешуються в Redis
  - Зображення категорій та банерів завантажуються через адмін панель на те ж сховище
  - CDN для швидкої доставки статичного контенту

---

## 1. База даних

### 1.1 Структура таблиць

#### Користувачі та ролі
- Users - користувачі системи (клієнти та продавці)
- UserRoles - ролі користувачів
- Sellers - продавці (додаткова інформація)
- SellerBonuses - бонуси продавців
- Customers - клієнти (додаткова інформація)
- Addresses - адреси доставки

#### Товари та каталог
- Products - товари (синхронізуються з 1С)
- Categories - категорії товарів
- ProductCategories - зв'язок товарів і категорій (Many-to-Many)
- ProductImages - URL зображень товарів (приходять з 1С)
- ProductAttributes - атрибути товарів (характеристики)
- Filters - фільтри
- FilterValues - значення фільтрів
- ProductFilters - зв'язок товарів і фільтрів

#### Замовлення та кошик
- Orders - замовлення
- OrderItems - позиції замовлення
- OrderStatuses - статуси замовлень
- Cart - кошик
- CartItems - товари в кошику

#### Довідники
- PaymentMethods - способи оплати
- DeliveryMethods - способи доставки
- Stores - магазини (для самовивозу)

#### Інтеграція та логування
- SyncLogs - логи синхронізації з 1С
- SmsVerifications - коди підтвердження SMS

### 1.2 Міграції

Всі міграції створюються в `dzvinok_main/database/migrations/`

## 2. Основний сайт (dzvinok_main)

### Модульна структура

Основний сайт побудований за модульним принципом для забезпечення масштабованості та зручності підтримки.

#### Структура модуля

Кожен модуль в `dzvinok_main/src/` містить:
- `Controllers/` - контролери для обробки HTTP запитів
- `Services/` - бізнес-логіка та сервіси
- `Requests/` - класи валідації форм
- `Resources/` - ресурси для API відповідей (якщо потрібно)
- `Views/` - Blade шаблони модуля
- `routes.php` - маршрути модуля (опціонально)

#### Список модулів

- `Catalog` - каталог товарів, категорії, фільтрація
- `Cart` - кошик покупок
- `Order` - оформлення та управління замовленнями
- `Auth` - авторизація та реєстрація через SMS
- `Profile` - особистий кабінет клієнта
- `Seller` - особистий кабінет продавця
- `Search` - пошук товарів
- `Api` - API endpoints для інтеграції з 1С
- `Sms` - сервіси для відправки та верифікації SMS
- `Common` - загальні компоненти (Header, Footer, меню тощо)

#### Моделі

Всі моделі Eloquent створюються в `dzvinok_main/app/Models/` та використовуються всіма модулями:
- Product, Category, Filter, FilterValue, ProductFilter - для каталогу
- ProductImage (зберігає URL зображень з 1С), ProductAttribute - для товарів
- Cart, CartItem - для кошика
- Order, OrderItem, OrderStatus - для замовлень
- User, UserRole - для користувачів
- Customer, Seller, SellerBonus - для клієнтів та продавців
- Address - для адрес доставки
- PaymentMethod, DeliveryMethod, Store - довідники
- SmsVerification - для SMS верифікації
- SyncLog - для логів синхронізації з 1С
- та інші згідно структури БД
### 2.1 Шапка сайту (Header)

#### 2.1.1 Логотип
- Посилання на головну сторінку

#### 2.1.2 Головне меню
- Каталог товарів (з випадаючим меню категорій)
- Меню статичних сторінок

#### 2.1.3 Пошук
- Пошукова форма з автодоповненням
- Пошук за назвою товару, артикулом, категорією

#### 2.1.4 Верхня панель
- Номер телефону
- Місто доставки

#### 2.1.5 Іконки дій
- Кошик (з кількістю товарів)
- Особистий кабінет
- Обране (wishlist)
- Порівння (compare)

### 2.2 Футер (Footer)

#### 2.2.1 Інформаційні блоки
- Про компанію
- Контактна інформація
- Робочі години

#### 2.2.2 Меню
- Доставка та оплата
- Гарантія та повернення
- Політика конфіденційності
- Публічна оферта

#### 2.2.3 Соціальні мережі
- Посилання на соціальні мережі
- Підписка на розсилку

### 2.3 Головна сторінка

#### 2.3.1 Головний слайдер
- Банери з акціями та новинками
- Адаптивний під різні пристрої

#### 2.3.2 Популярні категорії
- Блок з популярними категоріями товарів
- Зображення та назва категорії

#### 2.3.3 Популярні товари
- Вивід топ товарів
- Карточки товарів

#### 2.3.4 Акційні товари
- Товари зі знижками
- Таймер до кінця акції

#### 2.3.5 Новинки
- Нові надходження товарів

#### 2.3.6 Переваги
- Блок з перевагами магазину (швидка доставка, гарантія тощо)

### 2.4 Каталог товарів

#### 2.4.1 Список категорій
- Деревоподібна структура категорій
- Хлібні крихти (breadcrumbs)
- Кількість товарів у категорії

#### 2.4.2 Список товарів
- Відображення товарів у вигляді сітки/списку
- Пагінація
- Сортування (за популярністю, ціною, новизною, назвою)
- Кількість товарів на сторінці (наприклад вибір: 12, 24, 48)

#### 2.4.3 Фільтрація товарів
- Фільтри за ціною (діапазон)
- Фільтри за атрибутами (виробник, колір, розмір тощо)
- Фільтри за наявністю
- Активні фільтри (з можливістю видалення)
- Кнопка "Скинути фільтри"

#### 2.4.4 Карточка товару в списку
- Зображення товару
- Назва товару
- Артикул
- Ціна
- Акційна ціна
- Бейдж знижки (якщо є)
- Бейдж "Новинка" (якщо є)
- Бейдж "Хіт продажів"
- Наявність товару
- Кнопка "Додати в кошик"
- Кнопка "Додати в обране"
- Кнопка "Швидкий перегляд"

### 2.5 Сторінка товару

#### 2.5.1 Галерея зображень
- Основне зображення
- Мініатюри додаткових зображень
- Збільшене зображення у спливаючому вікні
- Слайдер зображень

#### 2.5.2 Основна інформація
- Назва товару
- Артикул
- Код товару
- Рейтинг та відгуки
- Наявність товару
- Ціна (стара ціна при знижці)
- Бейджі (знижка, новинка, хіт)

#### 2.5.3 Блок покупки
- Вибір кількості
- Кнопка "Додати в кошик"
- Кнопка "Купити в 1 клік"
- Кнопка "Додати в обране"

#### 2.5.4 Характеристики товару
- Таблиця з характеристиками
- Вкладки (Опис, Характеристики, Відгуки)

#### 2.5.5 Опис товару
- Детальний опис товару з можливістю вставити картинку чи відео в редакторі

#### 2.5.6 Відгуки
- Список відгуків
- Форма додавання відгуку
- Рейтинг товару

#### 2.5.7 Схожі товари
- Товари з тієї ж категорії
- Рекомендовані товари

### 2.6 Кошик

#### 2.6.1 Попап кошика
- Відкривається при додаванні товару
- Список доданих товарів в кошик
- Загальна сума
- Кнопка "Оформити замовлення"
- Кнопка "Продовжити покупки"


### 2.7 Оформлення замовлення

#### 2.7.1 Контактні дані

##### Для авторизованого користувача:
- Автоматичне заповнення даних з профілю
- Можливість редагувати дані

##### Для неавторизованого користувача:
- Введення номеру телефону
- Відправка SMS з кодом підтвердження
- Поле для введення коду
- Після підтвердження:
  - Якщо користувач є в системі - підтягуються його дані
  - Якщо користувач новий - пропонується заповнити:
- Ім'я
- Прізвище
    - Email (опціонально, для розсилок)
  - Автоматична реєстрація та авторизація

#### 2.7.2 Доставка
- Вибір способу доставки (Нова Пошта, Кур'єром Нової пошти, Самовивіз)
- Місто (автодоповнення через API Нової Пошти)
- Відділення/Адреса (автодоповнення через API Нової Пошти)
- Вибір магазину при самовивозі
- Збереження адреси для майбутніх замовлень (для авторизованих)
- Коментар до замовлення

#### 2.7.3 Оплата
- Вибір способу оплати:
  - Готівкою при отриманні
  - Оплата онлайн на сайті (LiqPay/Monobank)
- Застосування промокоду
- Використання бонусів (для авторизованих клієнтів)

#### 2.7.4 Підтвердження
- Перегляд даних замовлення:
  - Товари та їх кількість
  - Контактні дані
  - Адреса доставки
  - Спосіб оплати
  - Загальна сума
- Згода з умовами публічної оферти
- Згода на обробку персональних даних
- Кнопка "Підтвердити замовлення"

#### 2.7.5 Сторінка подяки
- Номер замовлення
- Інформація про статус
- Деталі замовлення
- Очікуваний час доставки
- Контакти для зв'язку
- Кнопка "Продовжити покупки"
- SMS нотифікація з номером замовлення

### 2.8 Пошук

#### 2.8.1 Сторінка результатів пошуку
- Запит пошуку
- Кількість знайдених товарів
- Список товарів (як у каталозі)
- Сортування результатів

#### 2.8.2 Автодоповнення
- Підказки при введенні
- Популярні запити
- Категорії товарів

### 2.9 Особистий кабінет

Система підтримує два типи користувачів:
- **Клієнт** - звичайний покупець
- **Продавець** - співробітник магазину з розширеними можливостями

#### 2.9.1 Авторизація
- Форма входу (номер телефону)
- Відправка SMS з кодом підтвердження
- Поле для введення коду підтвердження
- Автоматична авторизація після підтвердження номеру
- Повторна відправка коду (таймер 60 секунд)

#### 2.9.2 Реєстрація
- Введення номеру телефону
- Відправка SMS з кодом підтвердження
- Поле для введення коду підтвердження
- Після підтвердження користувач авторизується та потрапляє в профіль
- Пропозиція заповнити додаткові дані:
  - Ім'я
  - Прізвище
  - Email (для розсилок та нотифікацій)
- Можливість пропустити заповнення та зробити це пізніше

#### 2.9.3 Особистий кабінет клієнта

##### 2.9.3.1 Мої замовлення
- Список всіх замовлень
- Статус замовлення
- Деталі замовлення
- Повторити замовлення

##### 2.9.3.2 Персональні дані
- Редагування профілю (ім'я, прізвище, email)
- Номер телефону (зміна через SMS підтвердження)
- Налаштування нотифікацій

##### 2.9.3.3 Адреси доставки
- Список збережених адрес
- Додавання нової адреси
- Редагування адреси
- Видалення адреси
- Позначка адреси за замовчуванням

##### 2.9.3.4 Обране (Wishlist)
- Список обраних товарів
- Видалення з обраного
- Додавання в кошик

#### 2.9.4 Особистий кабінет продавця

##### 2.9.4.1 Загальна інформація
- Доступи до аккаунта продавця приходять з 1С відповідним методом
- Кабінет оптимізований для роботи в офлайн магазині
- Всі замовлення прив'язуються до продавця
- Бонусна система за продані замовлення

##### 2.9.4.2 Пошук товарів
- Помітки для продавців на тих товарах по яким є додаткова мотивація
- Місцевий ассортимент (те що є в наявності) в офлайн магазині має пріоритет в сортуванні
- Дата доставки товару, або підсвічувати  товар який є в колег поряд (в найближчих магазинах) який можна швидко забрати
- Товари з мотивацією
- "Кам’яний" (той що довго не продається) товар
- Відображення залишків по складах

##### 2.9.4.3 Оформлення замовлення для клієнта
- Введення номеру телефону клієнта
- Автоматичне підтягування даних, якщо клієнт є в БД:
  - Ім'я, прізвище
  - Email
  - Збережені адреси доставки
  - Історія замовлень
- Якщо клієнта немає в БД:
  - Автоматичне створення клієнта при оформленні замовлення
- Вибір товарів для замовлення
- Вибір способу доставки та оплати
- Застосування знижок та промокодів
- Підтвердження замовлення
- Замовлення автоматично прив'язується до продавця

##### 2.9.4.4 Мої продажі
- Список всіх замовлень, оформлених продавцем
- Дата доставки товару клієнту чи в офлайн магазин
- Фільтрація за датою, статусом
- Сума продажів
- Кількість замовлень

##### 2.9.4.5 Бонуси продавця
- За оформлені замовлення, продавець 

##### 2.9.4.6 Клієнти
- Список клієнтів, з якими працював продавець
- Пошук клієнта за номером телефону
- Історія замовлень кожного клієнта
- Швидке створення замовлення для клієнта

##### 2.9.4.7 Персональні дані
- Перегляд особистої інформації
- Номер телефону
- Зміна пароля (якщо встановлено)

### 2.10 Статичні сторінки
- Про нас
- Оплата
- Доставка
- Повернення
- Контакти
- Обробка персональних даних
- Використання cookies
- Договір публічної оферти

### 2.11 Trade-IN
- Окрема сторінка із формою Trade-IN
- Інтеграція з "Брізі" згідно АПІ документації сервісу
---

## 3. Адміністративна панель (dzvinok_admin)

### 3.1 Дашборд
- Статистика продажів (графіки)
- Кількість замовлень за період
- Нові замовлення
- Статистика клієнтів

### 3.2 Управління товарами

#### 3.2.1 Список товарів
- Таблиця з товарами
- Фільтрація
- Пошук

#### 3.2.2 Створення/Редагування товару
- Назва
- Артикул
- Опис
- Детальний опис
- Ціна
- Стара ціна
- Категорії (множинний вибір)
- Зображення:
  - Встановлення головного зображення
  - При синхронізації з 1С зображення оновлюються автоматично
- Характеристики
- Фільтри
- SEO (meta title, meta description)
- Наявність по магазинам (синхронізується з 1С)
- Бейджі (новинка, хіт, акція)
- Статус (опублікований/чернетка)

### 3.3 Управління категоріями

#### 3.3.1 Список категорій
- Деревоподібна структура
- Сортування (drag & drop)
- Пошук

#### 3.3.2 Створення/Редагування категорії
- Назва
- Slug
- Батьківська категорія
- Зображення:
  - Завантаження зображення категорії
  - Збереження на зовнішнє сховище (AWS S3, Hetzner Storage Box)
  - Генерація різних розмірів для адаптивності
- Опис
- SEO
- Порядок відображення
- Статус

### 3.4 Управління фільтрами

#### 3.4.1 Список фільтрів
- Таблиця з фільтрами
- Створення фільтру
- Генерація фільтрів в кеш

#### 3.4.2 Створення/Редагування фільтру
- Назва фільтру
- Тип фільтру (checkbox, radio, range, select)
- Значення фільтру
- Прив'язка до категорій
- Порядок відображення

### 3.5 Управління замовленнями

#### 3.5.1 Список замовлень
- Таблиця з замовленнями
- Фільтрація за:
  - Статусом
  - Датою
  - Клієнтом
  - Продавцем
  - Джерелом замовлення (сайт/офлайн магазин)
- Пошук за номером, телефоном клієнта
- Відображення продавця (якщо є)

#### 3.5.2 Деталі замовлення
- Інформація про клієнта:
  - Ім'я, Прізвище
  - Телефон
  - Email
  - Історія замовлень
  - Нараховані бонуси за замовлення
- Інформація про продавця (якщо замовлення офлайн):
  - Ім'я продавця
  - Контактні дані
  - Помітка офлайн магазину
- Список товарів
- Сума замовлення
- Спосіб доставки
- Спосіб оплати
- Статус замовлення
- Історія змін статусу
- Коментарі
- Джерело замовлення (сайт/офлайн)

#### 3.5.3 Статуси замовлень
- Статус замовлення приходить з 1С
- Можливість ручної зміни статусу
- Нотифікація клієнта при зміні статусу (SMS/Email)
- Історія всіх змін статусу

### 3.6 Управління клієнтами

#### 3.6.1 Список клієнтів
- Таблиця з клієнтами
- Пошук за телефоном, ім'ям, email

#### 3.6.2 Деталі клієнта
- Персональні дані:
  - Ім'я, Прізвище
  - Телефон (верифікований)
  - Email
  - Дата реєстрації
- Історія замовлень:
  - Список всіх замовлень
  - Статуси
  - Продавці (для офлайн замовлень)
- Адреси доставки:
  - Список збережених адрес
  - Адреса за замовчуванням
- Статистика покупок:
  - Загальна сума
  - Кількість замовлень
  - Останнє замовлення
- Бонусний рахунок
- Можливість нарахувати бонуси продавцю

### 3.7 Контент менеджмент

#### 3.7.1 Банери

  - Назва
  - Зображення (завантаження на зовнішнє сховище)
  - Посилання
  - Порядок відображення
  - Період активності (дата початку/кінця)
  - Статус (активний/неактивний)

#### 3.7.2 Статичні сторінки
- Список сторінок
- Редагування контенту
- SEO

#### 3.7.3 Меню
- Управління пунктами меню
- Порядок відображення

### 3.8 Маркетинг

#### 3.8.1 Промокоди
- Список промокодів
- Створення промокоду
- Тип знижки (відсоток, фіксована сума)
- Умови використання
- Термін дії

### 3.9 Налаштування

#### 3.9.1 Загальні налаштування
- Назва сайту
- Логотип
- Контактна інформація
- Робочі години
- Соціальні мережі
- Список магазинів для самовивозу

#### 3.9.2 Налаштування доставки
- Інтеграція з API Нової Пошти, налаштування та статус АПІ інтеграції


#### 3.9.3 Налаштування email
- Email відправника
- Налаштування email адрес для нотифікацій адміністраторів та продавців
- SMTP налаштування
- Шаблони email листів



#### 3.9.5 SEO налаштування
- Google Analytics
- Google Tag Manager
- Facebook Pixel
- Meta tags за замовчуванням

### 3.10 Користувачі та ролі

#### 3.10.1 Список користувачів
- Таблиця з користувачами
- Фільтрація за роллю (Адміністратор, Продавець, Контент менеджер)
- Пошук
- Статус (активний/неактивний)

#### 3.10.2 Створення/Редагування користувача
- Номер телефону
- Ім'я, Прізвище
- Email
- Роль
- Статус

#### 3.10.3 Ролі та дозволи
- Налаштування доступу
- Права на перегляд/редагування розділів
- Типи ролей:
  - Адміністратор (повний доступ)
  - Продавець (кабінет продавця, оформлення замовлень)
  - Контент менеджер (товари, категорії, банери, сторінки)

### 3.11 Управління продавцями

#### 3.11.1 Список продавців
- Таблиця з продавцями
- Статистика по кожному продавцю:
  - Кількість замовлень
  - Сума продажів
- Пошук та фільтрація

#### 3.11.2 Деталі продавця
- Персональні дані
- Статистика продажів (графік)
- Список замовлень

#### 3.11.4 Синхронізація з 1С
- Логи синхронізації

---

## 4. API для інтеграції з 1С

### 4.1 Аутентифікація
- Token-based authentication
- API ключі для 1С

### 4.2 Товари

#### 4.2.1 Отримання товарів
- GET `/api/1c/products` - список товарів
- GET `/api/1c/products/{id}` - деталі товару

#### 4.2.2 Створення/Оновлення товару
- POST `/api/1c/products` - створення товару
- PUT `/api/1c/products/{id}` - оновлення товару
- DELETE `/api/1c/products/{id}` - видалення товару

#### 4.2.3 Синхронізація залишків
- POST `/api/1c/products/stock` - оновлення залишків
- GET `/api/1c/products/stock` - отримання залишків

### 4.3 Категорії

#### 4.3.1 Отримання категорій
- GET `/api/1c/categories` - список категорій

#### 4.3.2 Створення/Оновлення категорії
- POST `/api/1c/categories` - створення категорії
- PUT `/api/1c/categories/{id}` - оновлення категорії

### 4.4 Замовлення

#### 4.4.1 Отримання замовлень
- GET `/api/1c/orders` - список нових замовлень
- GET `/api/1c/orders/{id}` - деталі замовлення

#### 4.4.2 Оновлення статусу замовлення
- PUT `/api/1c/orders/{id}/status` - зміна статусу

#### 4.4.3 Відправка замовлення в 1С
- POST `/api/1c/orders/{id}/confirm` - підтвердження від 1С

### 4.5 Ціни

#### 4.5.1 Оновлення цін
- POST `/api/1c/prices` - масове оновлення цін
- PUT `/api/1c/prices/{product_id}` - оновлення ціни товару

### 4.6 Клієнти

#### 4.6.1 Синхронізація клієнтів
- POST `/api/1c/customers` - створення/оновлення клієнта
- GET `/api/1c/customers` - отримання клієнтів
- GET `/api/1c/customers/{phone}` - пошук клієнта за номером телефону

### 4.7 Продавці

#### 4.7.1 Синхронізація продавців
- POST `/api/1c/sellers` - створення/оновлення продавця
- PUT `/api/1c/sellers/{id}` - оновлення даних продавця
- GET `/api/1c/sellers` - отримання списку продавців
- GET `/api/1c/sellers/{id}` - деталі продавця

#### 4.7.2 Бонуси продавців
- POST `/api/1c/sellers/{id}/bonuses` - нарахування бонусів
- GET `/api/1c/sellers/{id}/bonuses` - історія бонусів
- GET `/api/1c/sellers/{id}/statistics` - статистика продажів

### 4.8 SMS верифікація

#### 4.8.1 Відправка SMS
- POST `/api/sms/send` - відправка коду підтвердження
- POST `/api/sms/verify` - перевірка коду

### 4.9 Логи синхронізації

#### 4.9.1 Запис логів
- Всі операції з API логуються
- Таблиця SyncLogs

#### 4.9.2 Перегляд логів
- Перегляд в адмін панелі
- Фільтрація за датою, типом операції, статусом

---

## 5. Маркетинговий блок

**Мета**: Впровадження інструментів для комунікації та стимулювання продажів, які об'єднують всі канали продажів і враховують омніканальну стратегію розвитку мережі.

### 5.1 Система кешбеку та бонусів

#### 5.1.1 Власна програма лояльності
- **Принцип**: 1 бонус = 1 гривня
- **Нарахування**:
  - При покупці майже всіх товарів (навіть зі знижками)
  - Виняток: супер-акційні пропозиції
  - 1С передає окремим параметром кешбек по кожній товарній позиції
- **Точкові нарахування**:
  - В адмін панелі вивести сторінку налаштувань "Точкові нарахування" з можливістю включити/виключити нарахування за окремий параметр
  - Кількість бонусів програмується безпосередньо в контроллерах сайта без можливості зміни через адмін панель
  - Параметри нарахувань:
    - За реєстрацію на сайті
    - За залишення відгуку
    - На день народження
- **Термін дії**: 6 місяців, після чого згорають пропорційно до нарахування
- **Ліміт оплати**:
  - За замовчуванням до 50% вартості товару
  - Може змінюватися акціями від 30% до 100%
  - При оформленні замовлення сайт робить запит до 1С для отримання інформації про доступну кількість бонусів на сторінці Checkout

#### 5.1.2 Кешбек від банку
- Інтеграція зі спеціальними умовами кешбеку від різних банків
- Відображення інформації про можливість отримання банківського кешбеку
- Передбачити можливість інтеграції з банківськими програмами лояльності

// ДОПИСАТИ

---

## 6. Технічні вимоги

### 6.1 Продуктивність
- Зовнішнє сховище для файлів (AWS S3, Hetzner Storage Box)
- URL зображень товарів приходять з 1С (зображення зберігаються в storage)
- Кешування URL зображень в Redis
- Кешування даних товарів, категорій, фільтрів в Redis
- CDN для доставки статичного контенту
- Lazy loading для зображень

### 6.2 Безпека
- HTTPS
- CSRF захист
- XSS захист
- SQL Injection захист
- Валідація даних на сервері
- Rate limiting для API

### 6.3 SEO
- Семантична верстка
- Meta tags
- Open Graph
- Sitemap.xml
- Robots.txt
- Structured Data (Schema.org)

### 6.4 Адаптивність
- Mobile First підхід
- Responsive дизайн
- Підтримка всіх популярних браузерів

### 6.5 Доступність
- ARIA атрибути
- Keyboard navigation
- Screen reader friendly

---

## 7. Тестування

### 7.1 Unit тести
- Моделі
- Сервіси
- API endpoints

### 7.2 Feature тести
- Авторизація
- Додавання товару в кошик
- Оформлення замовлення
- API 1С

### 7.3 Browser тести
- Критичні user flows
- Оформлення замовлення
- Авторизація

---

## 8. Моніторинг та логування

### 8.1 Логування
- Системні логи (Laravel Log)
- Логи помилок
- Логи API запитів 1С
- Логи замовлень

### 8.2 Моніторинг
- Uptime моніторинг
- Продуктивність
- Помилки в real-time

---

Документація доповнюється.